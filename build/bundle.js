(()=>{"use strict";const e=(e,t,i)=>{e.addEventListener(t,i)},t=document.querySelector("html"),i=document.querySelectorAll(".benefits__item");let s;(()=>{const t=document.querySelector(".header-modal--opened"),i=document.querySelector(".services-modal--opened"),s=document.querySelector(".overlay"),o=(document.querySelector(".modal-all"),document.getElementById("order")),l=(document.getElementById("responseMessage"),document.querySelectorAll(".modal-certificate"));e(document,"click",(e=>{const n=e.target;n.closest(".btn-start")?(t.querySelectorAll("input").forEach((e=>{e.value="",e.classList.remove("invalid"),e.classList.remove("valid")})),s.classList.remove("overlay-close"),t.classList.remove("header-modal")):n.closest(".btn-start-success")?(i.querySelectorAll("input").forEach((e=>{e.value="",e.classList.remove("invalid"),e.classList.remove("valid")})),s.classList.remove("overlay-close"),i.classList.remove("services-modal")):n.closest(".btn-open-modal")?(o.querySelectorAll("input").forEach((e=>{e.value="",e.classList.remove("invalid"),e.classList.remove("valid")})),s.classList.remove("overlay-close"),o.classList.remove("hide")):(n.closest(".header-modal--opened")||n.closest(".services-modal--opened")||n.closest("#order")||n.closest(".modal-certificate__container")||n.closest(".document-overlay"))&&!n.matches(".header-modal__close")&&!n.matches(".modal_close")&&!n.matches(".services-modal__close")||(s.classList.add("overlay-close"),t.classList.add("header-modal"),i.classList.add("services-modal"),o.classList.add("hide"),l.forEach((e=>{e.classList.remove("active")})))}))})(),(()=>{class s{constructor({main:e,wrap:t,next:i,slide:s,prev:o,infinity:l=!1,slidesToShow:n=3,slidesToShowMobile:c=1,position:r=0}){this.main=document.querySelector(e),this.slide=document.querySelectorAll(s),this.wrap=document.querySelector(t),this.next=document.querySelector(i),this.prev=document.querySelector(o),this.slidesToShow=n,this.slidesToShowMobile=c,this.options={position:r,infinity:l,widthSlide:Math.floor(100/this.slidesToShow),widthSlideMobile:Math.floor(100/this.slidesToShowMobile)}}init(){this.controlSlider(),this.loadMobileSlider()}loadMobileSlider(){if(t.clientWidth>576)for(let e=0;e<this.slide.length;e++)this.slide[e].style.flex=`0 0 ${this.options.widthSlide}%`;else for(let e=0;e<i.length;e++)this.slide[e].style.flex=`0 0 ${this.options.widthSlideMobile}%`}prevSlider(e,t){(this.options.infinity||this.options.position>0)&&(--this.options.position,this.options.position<0&&(this.options.position=this.slide.length-e),this.wrap.style.transform=`translateX(-${this.options.position*t}%)`)}nextSlider(e,t){(this.options.infinity||this.options.position<this.slide.length-e)&&(++this.options.position,this.options.position>this.slide.length-e&&(this.options.position=0),this.wrap.style.transform=`translateX(-${this.options.position*t}%)`)}controlSlider(){e(this.prev,"click",(()=>{t.clientWidth<576?this.prevSlider(this.slidesToShowMobile,this.options.widthSlideMobile):this.prevSlider(this.slidesToShow,this.options.widthSlide)})),e(this.next,"click",(()=>{t.clientWidth<576?this.nextSlider(this.slidesToShowMobile,this.options.widthSlideMobile):this.nextSlider(this.slidesToShow,this.options.widthSlide)}))}}const o=new s({infinity:!0,main:".benefits-inner",wrap:".benefits-wrap",slide:".benefits__item",next:".benefits__arrow--right",prev:".benefits__arrow--left"}),l=new s({infinity:!0,main:".wrap-slider",wrap:".service-slider",slide:".serv",next:".services__arrow--right",prev:".services__arrow--left",slidesToShow:2});o.init(),l.init()})(),(e=>{const t=(e,t)=>{e.forEach((e=>{e.children[1].textContent=t}))},i=document.querySelectorAll(".count_1"),o=document.querySelectorAll(".count_2"),l=document.querySelectorAll(".count_3"),n=document.querySelectorAll(".count_4"),c={};function r(){!function(){const t=(new Date(e).getTime()-(new Date).getTime())/1e3,i=Math.floor(t%60),s=Math.floor(t/60%60),o=Math.floor(t/60/60%24),l=Math.floor(t/60/60/24);c.timeRemaining=t,c.days=l,c.hours=o,c.minutes=s,c.seconds=i}();const s=e=>e<10?"0"+e:+e;t(i,s(c.days)),t(o,s(c.hours)),t(l,s(c.minutes)),t(n,s(c.seconds))}r(),c.timeRemaining>0?s=setInterval(r,1e3):(i.innerText="00",o.innerText="00",l.innerText="00",n.innerText="00",clearInterval(s))})("10 august 2021 01:10"),(()=>{const t=document.querySelectorAll("input[type=text]"),i=document.querySelectorAll(".btn-submit");t.forEach((t=>{e(t,"input",(function(){"phone"===this.name?this.value=this.value.replace(/[^-+()\d]/g,""):this.value=this.value.replace(/[^\sа-яёa-z]+/gi,""),this.value?(this.classList.add("valid"),this.classList.remove("invalid")):(this.value.length<5||!this.value)&&(this.classList.add("invalid"),this.classList.remove("valid"))})),e(t,"blur",(function(){"phone"===this.name&&17!==this.value.length&&(this.value="",this.classList.add("invalid"),this.classList.remove("valid"))}))})),i.forEach(((t,i)=>{e(t,"click",(e=>{e.preventDefault();const s=t.parentNode.parentNode.parentNode;s.setAttribute("data-index",i),"index"===s.dataset.index&&s.querySelectorAll("input").forEach((e=>{e.value?(e.classList.add("valid"),e.classList.remove("invalid")):(e.classList.remove("valid"),e.classList.add("invalid"))}))}))}))})(),(()=>{const t=document.querySelectorAll(".certificate-document"),i=document.querySelectorAll(".modal-certificate");for(const s of t)e(s,"click",(function(e){e.preventDefault(),i.forEach((e=>{e.innerHTML=`\n                <div class="modal-certificate__container">\n                    <img src="${this.href}" alt/>\n                </div>\n            `,e.classList.add("active")}))}))})(),(()=>{const t=document.querySelector(".smooth-scroll"),i=document.getElementById("offer"),s=document.getElementById("benefits");e(document,"scroll",(()=>{s.getBoundingClientRect().top<0?t.classList.remove("hide"):t.classList.add("hide")})),e(t,"click",(()=>{i.scrollIntoView({block:"start",behavior:"smooth"})}))})(),(()=>{const t=document.getElementById("calc-input"),i=document.getElementById("calc-type"),s=document.getElementById("calc-type-material"),o=document.getElementById("calc-total");document.querySelectorAll(".calc-control").forEach((l=>{e(l,"input",(()=>{if(t.value=t.value.replace(/\D/g,""),!isNaN(+i.value)&&!isNaN(+s.value)){const e=t.value*i.options[i.selectedIndex].value*s.options[s.selectedIndex].value;o.value=Math.floor(e)}}))}))})(),function(e,t="8 (___) ___-__-__"){const i=document.querySelectorAll(e);function s(e){const i=e.keyCode,s=t,o=s.replace(/\D/g,""),l=this.value.replace(/\D/g,"");let n=0,c=s.replace(/[_\d]/g,(e=>n<l.length?l.charAt(n++)||o.charAt(n):e));n=c.indexOf("_"),-1!==n&&(c=c.slice(0,n));let r=s.substr(0,this.value.length).replace(/_+/g,(e=>"\\d{1,"+e.length+"}")).replace(/[+()]/g,"\\$&");r=new RegExp("^"+r+"$"),(!r.test(this.value)||this.value.length<5||i>47&&i<58)&&(this.value=c),"blur"===e.type&&this.value.length<5&&(this.value="")}for(const e of i)e.addEventListener("input",s),e.addEventListener("focus",s),e.addEventListener("blur",s)}("input[name=phone]")})();